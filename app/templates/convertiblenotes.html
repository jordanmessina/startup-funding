<h4 ng-show="founders.length">Convertible Notes</h4>

<form name="convertibleNoteForm" ng-show="founders.length" ng-submit="convertibleNoteForm.$valid && addConvertibleNote()" nonvalidate>
  <div class="row">
    <div class="input-group">
      <input type="number" ng-model="newConvertibleNote.cap" placeholder="Convertible Note Cap (in millions. eg - 4000000" class="form-control" required>
      <input type="number" ng-model="newConvertibleNote.discount" placeholder="Convertible Note Discount %" class="form-control" required>
      <span class="input-group-btn">
        <input type="submit" class="btn btn-primary" value="Add">
      </span>
    </div>
  </div>
</form>
<p></p>

<table class="table table-striped" ng-show="convertibleNotes.length">
  <thead>
    <td>Cap</td>
    <td>Discount</td>
    <td>Investors</td>
    <td></td>
  </thead>
  <tr ng-repeat="cn in convertibleNotes">
    <td><input type="number" ng-model="cn.cap" class="form-control" step="100000"></td>
    <td><input type="number" ng-model="cn.discount" class="form-control" max="100" min="0"></td>
    <td>
        <span ng-show="showInvestorList != $index">
            <ul>
              <li ng-repeat="investor in cn.investors">
                <div><input type="text" ng-model="investor.name"> <input type="number" ng-model="investor.amount" min="0" step="1000"> <a href="#" ng-click="removeInvestorFromConvertibleNote($parent.$index, $index)">x</a></div>
              </li>
              <li><a href="#" ng-click="toggleShowInvestorList($index)">Add Investor</a></li>
            </ul>
        </span>
        <span ng-show="showInvestorList == $index">
          <form name="addInvestorToConvertibleNoteForm" ng-submit="addInvestorToConvertibleNoteForm.$valid && addInvestorToConvertibleNote($index)">
            <input type="text" ng-model="$parent.investorToAddToConvertibleNote.name" placeholder="Name" class="form-control" required>
            <input type="number" ng-model="$parent.investorToAddToConvertibleNote.amount" placeholder="Amount" class="form-control" min="0" required>
            <input type="submit" class="btn btn-primary" value="Add">
          </form>
        </span>
    </td>
    <td><button type="button" class="btn btn-danger" ng-click="removeConvertibleNote($index)">X</button></td>
  </tr>
  <tr>
    <td><strong>{{totalSeedInvestmentRaised() | currency:"$":0}} Raised From Convertible Notes</strong></td>
    <td><strong></strong></td>
    <td></td>
    <td></td>
  </tr>
</table>
